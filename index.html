<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FinCon - Financial Confidence Made Easy! 🚀</title>
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#2c3e50">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="FinCon">
    <meta name="msapplication-TileColor" content="#2c3e50">
    <meta name="msapplication-tap-highlight" content="no">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Styles and Fonts -->
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <!-- PWA Icons -->
    <link rel="apple-touch-icon" sizes="192x192" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTkyIiBoZWlnaHQ9IjE5MiIgdmlld0JveD0iMCAwIDE5MiAxOTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxOTIiIGhlaWdodD0iMTkyIiByeD0iMjQiIGZpbGw9IiMyYzNlNTAiLz4KPHN2ZyB4PSI0OCIgeT0iNDgiIHdpZHRoPSI5NiIgaGVpZ2h0PSI5NiIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSIjZmZmIj4KPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEyIDJMMTMuMDkgOC4yNkwyMCA5TDEzLjA5IDE1Ljc0TDEyIDIyTDEwLjkxIDE1Ljc0TDQgOUwxMC45MSA4LjI2TDEyIDJaIiBmaWxsPSIjZmZmIi8+CjxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjMiIGZpbGw9IiMyYzNlNTAiLz4KPC9zdmc+CjwvZz4KPC9zdmc+">
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-S22BHE1Y7T"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-S22BHE1Y7T');
    </script>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1 class="logo">💰 FinCon</h1>
            <p class="tagline">Your Financial Confidence Booster! <span class="malaysia-flag">🇲🇾</span></p>
        </header>

        <!-- Navigation -->
        <nav class="nav-tabs">
            <button class="tab-btn active" onclick="showTab('retirement')">
                🏝️ Retirement Dreams
            </button>
            <button class="tab-btn" onclick="showTab('epf-ria')">
                📊 EPF RIA Framework
            </button>
            <button class="tab-btn" onclick="showTab('loan')">
                🏠 Loan Calculator
            </button>
        </nav>

        <!-- Retirement Calculator Tab -->
        <div id="retirement" class="tab-content active">
            <div class="calculator-section">
                <h2>🏝️ Retirement Corpus Calculator</h2>
                <div class="explanation-box">
                    <h3>What's This About? 🤔</h3>
                    <p>Retirement corpus is basically your "chill fund" - the money you need to have saved up so you can live comfortably without working! Think of it as your ticket to freedom where you can lepak at the beach instead of rushing to work every morning.</p>
                    <p>In Malaysia, with our amazing food and lifestyle, you'll want to make sure you have enough to enjoy your teh tarik and roti canai without worrying about money! 🍜</p>
                </div>

                <div class="input-group">
                    <label for="currentAge">Your Current Age:</label>
                    <input type="number" id="currentAge" placeholder="e.g., 25" min="18" max="80">
                </div>

                <div class="input-group">
                    <label for="retirementAge">When Do You Want to Retire?</label>
                    <input type="number" id="retirementAge" placeholder="e.g., 60" min="40" max="80">
                </div>

                <div class="input-group">
                    <label for="monthlyExpenses">Monthly Living Expenses (RM):</label>
                    <input type="number" id="monthlyExpenses" placeholder="e.g., 3000" min="1000">
                    <small>Include everything: food, rent, utilities, entertainment, medical</small>
                </div>

                <div class="input-group">
                    <label for="inflationRate">Inflation Rate (%):</label>
                    <input type="number" id="inflationRate" placeholder="3" step="0.1" min="0" max="10">
                    <small>Malaysia's average inflation is around 2-4% per year</small>
                </div>

                <div class="input-group">
                    <label for="expectedReturn">Expected Investment Return (%):</label>
                    <input type="number" id="expectedReturn" placeholder="8" step="0.1" min="0" max="20">
                    <small>Malaysian equity funds average 6-10% annually</small>
                </div>

                <button class="calculate-btn" onclick="calculateRetirement()">
                    Calculate My Freedom Fund! 🚀
                </button>

                <div id="retirementResult" class="result-section" style="display: none;">
                    <h3>Your Retirement Plan 📊</h3>
                    <div class="result-grid">
                        <div class="result-card">
                            <h4>💰 Total Corpus Needed</h4>
                            <p class="result-value" id="totalCorpus">RM 0</p>
                        </div>
                        <div class="result-card">
                            <h4>💸 Monthly Savings Required</h4>
                            <p class="result-value" id="monthlySavings">RM 0</p>
                        </div>
                        <div class="result-card">
                            <h4>📈 Future Monthly Expenses</h4>
                            <p class="result-value" id="futureExpenses">RM 0</p>
                        </div>
                    </div>
                    <div class="explanation-result">
                        <h4>What This Means 🎯</h4>
                        <p id="retirementExplanation"></p>
                    </div>
                </div>
            </div>
        </div>

        <!-- EPF RIA Framework Tab -->
        <div id="epf-ria" class="tab-content">
            <div class="calculator-section">
                <h2>📊 EPF Retirement Income Adequacy (RIA) Framework</h2>
                <div class="explanation-box">
                    <h3>What's the EPF RIA Framework? 🤔</h3>
                    <p>The EPF RIA Framework is Malaysia's new retirement savings benchmark launched in 2024. It provides three tiers of retirement readiness to help you understand exactly how much you need to save for a comfortable retirement in Malaysia.</p>
                    <p>This framework replaces the old RM240,000 benchmark with a more comprehensive three-tier system based on real Malaysian living costs! 🇲🇾</p>
                </div>

                <div class="ria-tiers-overview">
                    <h3>RIA Framework Tiers 🎯</h3>
                    <div class="tier-cards">
                        <div class="tier-card basic">
                            <h4>🥉 Basic Savings</h4>
                            <p class="tier-amount">RM390,000</p>
                            <p class="tier-description">Essential retirement needs</p>
                        </div>
                        <div class="tier-card adequate">
                            <h4>🥈 Adequate Savings</h4>
                            <p class="tier-amount">RM650,000</p>
                            <p class="tier-description">Reasonable living standard</p>
                        </div>
                        <div class="tier-card enhanced">
                            <h4>🥇 Enhanced Savings</h4>
                            <p class="tier-amount">RM1.3 Million</p>
                            <p class="tier-description">Financial independence & higher quality life</p>
                        </div>
                    </div>
                </div>

                <div class="input-group">
                    <label for="riaCurrentAge">Your Current Age:</label>
                    <input type="number" id="riaCurrentAge" placeholder="e.g., 25" min="18" max="60">
                </div>

                <div class="input-group">
                    <label for="riaCurrentSavings">Current EPF Savings (RM):</label>
                    <input type="number" id="riaCurrentSavings" placeholder="e.g., 50000" min="0">
                    <small>Your current EPF Account 1 balance</small>
                </div>

                <div class="input-group">
                    <label for="riaMonthlyContribution">Monthly EPF Contribution (RM):</label>
                    <input type="number" id="riaMonthlyContribution" placeholder="e.g., 500" min="0">
                    <small>Combined employee + employer contribution</small>
                </div>

                <div class="input-group">
                    <label for="riaExpectedReturn">Expected Annual Return (%):</label>
                    <input type="number" id="riaExpectedReturn" placeholder="6" step="0.1" min="0" max="15">
                    <small>EPF typically provides 5-6% annual dividends</small>
                </div>

                <div class="input-group">
                    <label for="riaTargetTier">Target RIA Tier:</label>
                    <select id="riaTargetTier">
                        <option value="basic">Basic Savings (RM390,000)</option>
                        <option value="adequate" selected>Adequate Savings (RM650,000)</option>
                        <option value="enhanced">Enhanced Savings (RM1.3 Million)</option>
                    </select>
                </div>

                <button class="calculate-btn" onclick="calculateEPFRIA()">
                    Calculate My RIA Status! 📈
                </button>

                <div id="riaResult" class="result-section" style="display: none;">
                    <h3>Your EPF RIA Analysis 📊</h3>
                    <div class="result-grid">
                        <div class="result-card">
                            <h4>🎯 Current RIA Status</h4>
                            <p class="result-value" id="currentRIAStatus">-</p>
                        </div>
                        <div class="result-card">
                            <h4>💰 Projected Savings at 60</h4>
                            <p class="result-value" id="projectedSavings">RM 0</p>
                        </div>
                        <div class="result-card">
                            <h4>📊 Additional Monthly Savings Needed</h4>
                            <p class="result-value" id="additionalSavingsNeeded">RM 0</p>
                        </div>
                    </div>
                    <div class="ria-tier-progress">
                        <h4>Your Progress Towards RIA Tiers 🎯</h4>
                        <div id="riaTierProgress"></div>
                    </div>
                    <div class="explanation-result">
                        <h4>Your RIA Roadmap 💡</h4>
                        <p id="riaExplanation"></p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Loan Calculator Tab -->
        <div id="loan" class="tab-content">
            <div class="calculator-section">
                <h2>🏠 Loan Amortization Calculator</h2>
                <div class="explanation-box">
                    <h3>What's Amortization? 🤷‍♂️</h3>
                    <p>Amortization is just a fancy word for "how your loan payments work over time." Every month, part of your payment goes to interest (the bank's profit) and part goes to paying down the actual loan amount.</p>
                    <p>In Malaysia, most home loans have reducing balance interest - meaning as you pay more, the interest gets smaller. It's like eating a kuih layer by layer! 🧁</p>
                </div>

                <div class="input-group">
                    <label for="loanAmount">Loan Amount (RM):</label>
                    <input type="number" id="loanAmount" placeholder="e.g., 500000" min="10000">
                    <small>Your dream home price minus down payment</small>
                </div>

                <div class="input-group">
                    <label for="interestRate">Interest Rate (% per year):</label>
                    <input type="number" id="interestRate" placeholder="4.5" step="0.1" min="0" max="15">
                    <small>Malaysian home loans are typically 3.5-5.5%</small>
                </div>

                <div class="input-group">
                    <label for="loanTerm">Loan Term (years):</label>
                    <input type="number" id="loanTerm" placeholder="30" min="1" max="40">
                    <small>Most Malaysian home loans are 25-35 years</small>
                </div>

                <button class="calculate-btn" onclick="calculateLoan()">
                    Show Me My Payment Plan! 🏡
                </button>

                <div id="loanResult" class="result-section" style="display: none;">
                    <h3>Your Loan Breakdown 📋</h3>
                    <div class="result-grid">
                        <div class="result-card">
                            <h4>💳 Monthly Payment</h4>
                            <p class="result-value" id="monthlyPayment">RM 0</p>
                        </div>
                        <div class="result-card">
                            <h4>💰 Total Interest</h4>
                            <p class="result-value" id="totalInterest">RM 0</p>
                        </div>
                        <div class="result-card">
                            <h4>📊 Total Amount Paid</h4>
                            <p class="result-value" id="totalPaid">RM 0</p>
                        </div>
                    </div>
                    <div class="explanation-result">
                        <h4>The Real Deal 💡</h4>
                        <p id="loanExplanation"></p>
                    </div>
                    <div class="amortization-schedule">
                        <h4>Payment Schedule (First 12 Months) 📅</h4>
                        <div class="schedule-container">
                            <table id="scheduleTable">
                                <thead>
                                    <tr>
                                        <th>Month</th>
                                        <th>Payment</th>
                                        <th>Interest</th>
                                        <th>Principal</th>
                                        <th>Balance</th>
                                    </tr>
                                </thead>
                                <tbody id="scheduleBody">
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <p>Made with ❤️ for Malaysians | Always consult a financial advisor for major decisions!</p>
        </footer>
    </div>

    <script src="config.js"></script>
    <script src="script.js"></script>
</body>
</html>